<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Birthday Dad | From Batul</title>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Montserrat:wght@700;900&display=swap" rel="stylesheet">

<style>
/* ===== Body ===== */
body {
    margin:0;
    padding:0;
    font-family: 'Montserrat', sans-serif;
    text-align: center;
    overflow-x: hidden;
    background: linear-gradient(-45deg, #f0f8ff, #ffe4e1, #fffacd, #ffe4b5);
    background-size: 400% 400%;
    animation: gradientBG 20s ease infinite;
}
@keyframes gradientBG {
    0% {background-position:0% 50%;}
    50% {background-position:100% 50%;}
    100% {background-position:0% 50%;}
}

/* ===== Floating Hearts & Sparkles ===== */
.heart-bg, .sparkle-bg {
    position: fixed;
    top:0; left:0; width:100%; height:100%;
    pointer-events:none;
    z-index:-1;
}
.heart, .sparkle {
    position:absolute;
    animation: floatUp 6s linear infinite;
}
.heart { color:#ff6b81; font-size:20px; }
.sparkle { color:#ffd700; font-size:18px; }
@keyframes floatUp {
    0% { transform: translateY(110vh) rotate(0deg); opacity:1; }
    100% { transform: translateY(-10vh) rotate(360deg); opacity:0; }
}

/* ===== Header ===== */
.header-section { padding:40px 10px; }
.sparkle-text {
    font-size:3rem;
    display:inline-block;
    background: linear-gradient(90deg, #ff1493, #ffd700, #ff69b4, #ff6347, #ff1493);
    background-size: 300% auto;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: shimmer 3s linear infinite;
}
@keyframes shimmer { to { background-position: 300% center; } }

/* ===== Cake ===== */
.cake-box { padding:30px 0; display:flex; flex-direction: column; align-items: center; cursor: pointer; }
.tier {
    position:relative;
    background: linear-gradient(180deg, #fffacd, #fff8dc);
    border-radius: 20px;
    margin-top:-5px;
    border:4px solid #d4af37;
    overflow:hidden;
    box-shadow: 0 8px 20px rgba(0,0,0,0.2), 0 0 10px rgba(255, 215, 0,0.2);
    animation: cakeGlow 3s ease-in-out infinite alternate;
}
.tier::after {
    content:'‚ú®';
    position:absolute;
    top:5px; left:10px;
    font-size:18px;
    animation:sparkle 2s linear infinite;
    opacity:0.7;
}
@keyframes sparkle {0% {transform:translate(0,0) rotate(0deg); opacity:0.6;} 50%{transform:translate(10px,-5px) rotate(180deg); opacity:1;} 100% {transform:translate(0,0) rotate(360deg); opacity:0.6;}}
@keyframes cakeGlow {0% {box-shadow:0 8px 20px rgba(0,0,0,0.2),0 0 10px rgba(255,215,0,0.2);} 50% {box-shadow:0 8px 25px rgba(0,0,0,0.2),0 0 20px rgba(255,215,0,0.5);} 100% {box-shadow:0 8px 20px rgba(0,0,0,0.2),0 0 10px rgba(255,215,0,0.2);}}
.t1 { width:100px; height:50px; border-radius:20px 20px 0 0; z-index:4; }
.t2 { width:160px; height:60px; z-index:3; }
.t3 { width:220px; height:70px; z-index:2; }
.t4 { width:280px; height:80px; border-radius:0 0 20px 20px; z-index:1; border-bottom:10px solid #d4af37; }

.candle-row { display:flex; gap:12px; margin-bottom:-5px; }
.candle { width:12px; height:40px; background:#ff69b4; position:relative; border-radius:3px; }
.flame { width:14px; height:22px; background: radial-gradient(circle, yellow 0%, orange 80%); border-radius:50%; position:absolute; top:-24px; animation: burn 0.4s infinite alternate; }
@keyframes burn {0%{transform:scale(1) translateY(0);opacity:1;}25%{transform:scale(1.1) translateY(-2px);opacity:0.9;}50%{transform:scale(1) translateY(0);opacity:1;}75%{transform:scale(0.9) translateY(1px);opacity:0.95;}100%{transform:scale(1) translateY(0);opacity:1;}}

/* ===== Photo Album ===== */
.photo-area { margin:30px auto; max-width:90%; background:rgba(255,255,255,0.8); padding:20px; border-radius:30px; border:2px solid #add8e6; }
.m-img { max-width:100%; max-height:400px; border:8px solid white; border-radius:15px; box-shadow:0 10px 30px rgba(0,0,0,0.1); cursor:pointer; transition: transform 0.2s; }
.m-img:active { transform: scale(0.98); }
#stats { font-weight:bold; color:#555; margin-bottom:10px; }

/* ===== Gift ===== */
.gift-section { margin:50px 0 30px 0; }
.gift-text { font-weight:bold; font-size:1.2rem; color:#555; margin-bottom:15px; }
#gift { font-size:60px; cursor:pointer; animation: giftGlow 2s ease-in-out infinite alternate; }
@keyframes giftGlow {0%{transform:scale(1); text-shadow:0 0 5px #ffd700,0 0 10px #ff69b4;}50%{transform:scale(1.05); text-shadow:0 0 15px #ffd700,0 0 25px #ff1493;}100%{transform:scale(1); text-shadow:0 0 5px #ffd700,0 0 10px #ff69b4;}}

/* ===== Typewriter ===== */
#typewriter { font-family:'Pacifico'; font-size:1.3rem; padding:20px; }

/* ===== Toast ===== */
.toast-wrap { height:100px; position:relative; overflow:hidden; margin-top:30px; }
.glass { font-size:60px; position:absolute; opacity:0; transition:0.6s; }
#gL { left:-100px; } #gR { right:-100px; transform: scaleX(-1); }
.clink #gL { left: calc(50% - 70px); opacity:1; }
.clink #gR { right: calc(50% - 70px); opacity:1; }
.toast-btn { background:#000; color:white; border:none; padding:15px 40px; font-size:1.1rem; border-radius:50px; cursor:pointer; margin:20px 0; }

/* ===== Signature ===== */
.final-sig { font-family:'Pacifico', cursive; font-size:2.8rem; color:#000; opacity:0; transition:1.5s; margin-bottom:50px; }
.show-sig { opacity:1; }
</style>
</head>

<body>

<audio id="music"><source src="birthday_song.mp3" type="audio/mpeg"></audio>
<div class="heart-bg" id="heartContainer"></div>
<div class="sparkle-bg" id="sparkleContainer"></div>

<div class="header-section">
    <h1 class="sparkle-text">Happy Birthday Dad</h1>
</div>

<div class="cake-box">
    <div class="candle-row" id="candles">
        <div class="candle"><div class="flame"></div></div>
        <div class="candle"><div class="flame"></div></div>
        <div class="candle"><div class="flame"></div></div>
    </div>
    <div class="tier t1"></div>
    <div class="tier t2"></div>
    <div class="tier t3"></div>
    <div class="tier t4"></div>
    <p style="color:#d4af37; font-weight:bold;">TAP CAKE TO BLOW CANDLES</p>
</div>

<div class="photo-area">
    <p id="stats">TAP PHOTO TO SEE NEXT (1/10)</p>
    <img id="img" class="m-img" src="1.jpg" onclick="nextPhoto()">
</div>

<div class="gift-section">
    <div class="gift-text">TAP YOUR GIFT üéÅ</div>
    <div id="gift" onclick="typeMsg()">üéÅ</div>
    <div id="typewriter"></div>
</div>

<div class="toast-wrap" id="tWrap">
    <div id="gL" class="glass">ü•Ç</div>
    <div id="gR" class="glass">ü•Ç</div>
</div>
<button class="toast-btn" onclick="toastNow()">ü•Ç CLICK TO TOAST</button>
<div id="batulSign" class="final-sig">From Batul</div>

<script>
// ===== Hearts & Sparkles =====
const heartContainer=document.getElementById('heartContainer');
const sparkleContainer=document.getElementById('sparkleContainer');
for(let i=0;i<20;i++){
    let h=document.createElement('div'); h.className='heart'; h.innerHTML='‚ù§Ô∏è';
    h.style.left=Math.random()*100+'vw';
    h.style.fontSize=(14+Math.random()*12)+'px';
    h.style.animationDuration=(4+Math.random()*3)+'s';
    heartContainer.appendChild(h);

    let s=document.createElement('div'); s.className='sparkle'; s.innerHTML='‚ú®';
    s.style.left=Math.random()*100+'vw';
    s.style.fontSize=(12+Math.random()*12)+'px';
    s.style.animationDuration=(4+Math.random()*4)+'s';
    sparkleContainer.appendChild(s);
}

// ===== Photos =====
let pIdx=1;
const total=10;
const preloadedImages=[];
for(let i=1;i<=total;i++){
    preloadedImages[i]=new Image();
    preloadedImages[i].src=i+'.jpg';
}
const statsText=document.getElementById('stats');
const imgElement=document.getElementById('img');

function nextPhoto(){
    if(pIdx<total){
        pIdx++;
        imgElement.src=preloadedImages[pIdx].src;
        statsText.innerText=`TAP PHOTO TO SEE NEXT (${pIdx}/${total})`;
        fireworkConfetti();
    } else {
        statsText.innerText="You've seen all the memories! ‚ù§Ô∏è";
    }
}

// ===== Firework Confetti =====
function fireworkConfetti(){
    confetti({
        particleCount:200,
        startVelocity:30,
        spread:360,
        origin:{y:0.6},
        colors:['#ff69b4','#ffd700','#ff1493','#ff4500','#00ffff'],
        shapes:['circle','star']
    });
}

// ===== Gift Typewriter =====
const text="Happy Birthday, Dad! I was going to get you a really expensive gift, but then I remembered that having me as a child is a gift in itself. Love you! ‚ù§Ô∏è";
let c=0;
function typeMsg(){
    document.getElementById('gift').style.display='none';
    play();
}
function play(){
    if(c<text.length){
        document.getElementById('typewriter').innerHTML+=text.charAt(c);
        c++;
        setTimeout(play,40);
    }
}

// ===== Toast =====
function toastNow(){
    document.getElementById('tWrap').classList.add('clink');
    document.getElementById('batulSign').classList.add('show-sig');
    fireworkConfetti();
}

// ===== Auto Music & Candle Blow =====
window.addEventListener('load',()=>{
    const music=document.getElementById('music');
    music.play().catch(()=>{ console.log("User interaction needed for autoplay."); });

    setTimeout(()=>{
        document.getElementById('candles').style.visibility='hidden';
        fireworkConfetti();
    },2000);
});
</script>

</body>
</html>
